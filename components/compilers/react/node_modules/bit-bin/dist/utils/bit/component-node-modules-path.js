"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

var _interopRequireWildcard = require("@babel/runtime/helpers/interopRequireWildcard");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = getNodeModulesPathOfComponent;

function path() {
  const data = _interopRequireWildcard(require("path"));

  path = function () {
    return data;
  };

  return data;
}

function _generalError() {
  const data = _interopRequireDefault(require("../../error/general-error"));

  _generalError = function () {
    return data;
  };

  return data;
}

function _componentIdToPackageName() {
  const data = _interopRequireDefault(require("./component-id-to-package-name"));

  _componentIdToPackageName = function () {
    return data;
  };

  return data;
}

function getNodeModulesPathOfComponent(bindingPrefix, id, allowNonScope = false, defaultScope) {
  if (!id.scope && !allowNonScope) {
    throw new (_generalError().default)(`Failed creating a path in node_modules for ${id.toString()}, as it does not have a scope yet`);
  }

  const packageName = (0, _componentIdToPackageName().default)(id, bindingPrefix, defaultScope);
  return path().join('node_modules', packageName);
}